●動作確認（＝実際に1記事生成して、一覧も更新される）

1) テーマを1件キューに入れる（記事ネタ投入）
curl -s -X POST http://127.0.0.1:3000/api/genba/themes \
  -H "Content-Type: application/json" \
  -d '{"theme":"PowerShellでファイルを探す：Select-Stringの基本とよくあるミス"}'

キュー確認：
cat /opt/tshare-api/data/genba_queue.json

2) 生成を手動で走らせる（systemdで生成 - タイマー関係なしに作成される）
sudo systemctl start tshare-genba-weekly.service
journalctl -u tshare-genba-weekly.service -n 200 --no-pager

生成確認：
ls -la /var/www/html/posts/genba/

ブラウザ確認：URLでアクセス




●重複記事チェック or キューが空でも動くか？の動作確認
1,まずAPIが生きてるか
curl -s http://127.0.0.1:3000/api/health

2,テーマキューの確認（GET）
curl -s http://127.0.0.1:3000/api/genba/themes

3,テーマを追加（POST）
curl -s -X POST http://127.0.0.1:3000/api/genba/themes \
  -H "Content-Type: application/json" \
  -d '{"theme":"PowerShellでファイルを探す（Get-ChildItem / Select-String）"}'

確認：
cat /opt/tshare-api/data/genba_queue.json

4,“記事生成”の動作確認（本番と同じ：systemd）
キューありで生成
sudo systemctl start tshare-genba-weekly.service
journalctl -u tshare-genba-weekly.service -n 200 --no-pager
ls -la /var/www/html/posts/genba/

キュー空でも生成する仕様にしたなら（空にして確認）
printf "[]\n" | sudo tee /opt/tshare-api/data/genba_queue.json >/dev/null
sudo systemctl start tshare-genba-weekly.service
journalctl -u tshare-genba-weekly.service -n 200 --no-pager


5,ブラウザで確認


●問題
ターミナルで node server.js を起動しても、すでに常駐版が3000番を掴んでいて、404エラーがでる。
--回答--
tshare-api.service が常駐起動してます。
このサービスが「古い状態」or「環境変数なし」で動いてるので、あなたの手動起動とは別物に当たって 404 になってました。
1) まずサービスを再起動（変更反映）
sudo systemctl restart tshare-api.service
再起動できたか確認：
sudo systemctl status tshare-api.service --no-pager -l
そのあと疎通：
curl -i http://127.0.0.1:3000/api/genba/themes
{"status":"ok","items":[]}みたいなのが返ってきたらOK

●問題
ニュース記事が更新されない
--回答--
とりあえず動作確認方法
確認（サーバ側）
curl -s "https://t-share.duckdns.org/data/digest.json?t=$(date +%s)" | head -n 8
トップがそれを読んでるか（Apacheログ）
sudo tail -n 20 /var/log/apache2/access.log | egrep "index\.html|data/digest\.json" | tail -n 20

手動更新を1コマンドにまとめる版（コピペ用）
cd /opt/tshare-api \
&& set -a; source /opt/api_key/.env; set +a \
&& node scripts/generate_digest.js --force \
&& sudo install -m 664 -o hi -g www-data /opt/tshare-api/data/digest.json /var/www/html/data/digest.json \
&& curl -s "https://t-share.duckdns.org/data/digest.json?t=$(date +%s)" | head -n 8
